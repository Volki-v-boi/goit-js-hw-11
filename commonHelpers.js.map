{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '43772566-941124190665b8a45a176dbcd';\nconst BASE_URL = 'https://pixabay.com/api/';\nexport const searchImages = query => {\n  const searchParams = new URLSearchParams({\n    key: apiKey,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  return fetch(`${BASE_URL}?${searchParams}`)\n    .then(response => response.json())\n    .then(data => {\n      if (data.hits.length === 0) {\n        return [];\n      } else {\n        return data.hits;\n      }\n    })\n    .catch(error => {\n      console.error('Error:', error);\n      return 'An error occurred while fetching images.';\n    });\n};\n\n//https://pixabay.com/api/?key=43772566-941124190665b8a45a176dbcd&q=yellow+flowers&image_type=photo\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nfunction renderImageCard(image) {\n  const card = document.createElement('div');\n  card.className = 'image-card';\n\n  const link = document.createElement('a');\n  link.classList.add('image-gallery');\n  link.href = image.largeImageURL;\n  link.setAttribute('data-lightbox', 'image-set');\n\n  // console.log(image.largeImageURL);\n\n  const img = document.createElement('img');\n  img.src = image.webformatURL;\n  img.alt = image.tags;\n  img.className = 'image';\n\n  const infoList = document.createElement('ul');\n  infoList.className = 'image-info-list';\n\n  const likesItem = document.createElement('li');\n  likesItem.textContent = `Likes: ${image.likes}`;\n\n  const viewsItem = document.createElement('li');\n  viewsItem.textContent = `Views: ${image.views}`;\n\n  const commentsItem = document.createElement('li');\n  commentsItem.textContent = `Comments: ${image.comments}`;\n\n  const downloadsItem = document.createElement('li');\n  downloadsItem.textContent = `Downloads: ${image.downloads}`;\n\n  infoList.appendChild(likesItem);\n  infoList.appendChild(viewsItem);\n  infoList.appendChild(commentsItem);\n  infoList.appendChild(downloadsItem);\n\n  link.appendChild(img);\n  card.appendChild(link);\n  card.appendChild(infoList);\n\n  document.querySelector('.image-gallery').appendChild(card);\n}\n\nfunction renderNotFoundMessage() {\n  iziToast.warning({\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n}\n\nexport { renderImageCard, renderNotFoundMessage };\n","// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { searchImages } from './js/pixabay-api.js';\n\nimport {\n  renderImageCard,\n  renderNotFoundMessage,\n} from './js/render-functions.js';\n\nconst lightbox = new SimpleLightbox('.image-gallery', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst searchInput = document.querySelector('#search-input');\nconst loader = document.querySelector('.loader');\nconst imagesContainer = document.querySelector('.image-gallery');\n\nfunction handleSearchSubmit(event) {\n  event.preventDefault();\n  const searchTerm = searchInput.value;\n\n  loader.style.display = 'block';\n  imagesContainer.innerHTML = '';\n\n  searchImages(searchTerm)\n    .then(images => {\n      if (images.length > 0) {\n        images.forEach(image => renderImageCard(image));\n        lightbox.refresh();\n      } else {\n        renderNotFoundMessage();\n      }\n    })\n    .catch(error => {\n      console.error('Пошук зображень невдалий', error);\n    })\n\n    .finally(() => {\n      searchInput.value = '';\n      loader.style.display = 'none';\n    });\n}\n\ndocument\n  .querySelector('#search-form')\n  .addEventListener('submit', handleSearchSubmit);\n"],"names":["apiKey","BASE_URL","searchImages","query","searchParams","response","data","error","renderImageCard","image","card","link","img","infoList","likesItem","viewsItem","commentsItem","downloadsItem","renderNotFoundMessage","iziToast","lightbox","SimpleLightbox","searchInput","loader","imagesContainer","handleSearchSubmit","event","searchTerm","images"],"mappings":"6vBAAA,MAAMA,EAAS,qCACTC,EAAW,2BACJC,EAAeC,GAAS,CACnC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACD,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAY,EAAE,EACvC,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GACAA,EAAK,KAAK,SAAW,EAChB,GAEAA,EAAK,IAEf,EACA,MAAMC,IACL,QAAQ,MAAM,SAAUA,CAAK,EACtB,2CACR,CACL,EClBA,SAASC,EAAgBC,EAAO,CAC9B,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAY,aAEjB,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,UAAU,IAAI,eAAe,EAClCA,EAAK,KAAOF,EAAM,cAClBE,EAAK,aAAa,gBAAiB,WAAW,EAI9C,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMH,EAAM,aAChBG,EAAI,IAAMH,EAAM,KAChBG,EAAI,UAAY,QAEhB,MAAMC,EAAW,SAAS,cAAc,IAAI,EAC5CA,EAAS,UAAY,kBAErB,MAAMC,EAAY,SAAS,cAAc,IAAI,EAC7CA,EAAU,YAAc,UAAUL,EAAM,KAAK,GAE7C,MAAMM,EAAY,SAAS,cAAc,IAAI,EAC7CA,EAAU,YAAc,UAAUN,EAAM,KAAK,GAE7C,MAAMO,EAAe,SAAS,cAAc,IAAI,EAChDA,EAAa,YAAc,aAAaP,EAAM,QAAQ,GAEtD,MAAMQ,EAAgB,SAAS,cAAc,IAAI,EACjDA,EAAc,YAAc,cAAcR,EAAM,SAAS,GAEzDI,EAAS,YAAYC,CAAS,EAC9BD,EAAS,YAAYE,CAAS,EAC9BF,EAAS,YAAYG,CAAY,EACjCH,EAAS,YAAYI,CAAa,EAElCN,EAAK,YAAYC,CAAG,EACpBF,EAAK,YAAYC,CAAI,EACrBD,EAAK,YAAYG,CAAQ,EAEzB,SAAS,cAAc,gBAAgB,EAAE,YAAYH,CAAI,CAC3D,CAEA,SAASQ,GAAwB,CAC/BC,EAAS,QAAQ,CACf,QACE,0EACN,CAAG,CACH,CCzCA,MAAMC,EAAW,IAAIC,EAAe,iBAAkB,CACpD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAkB,SAAS,cAAc,gBAAgB,EAE/D,SAASC,EAAmBC,EAAO,CACjCA,EAAM,eAAc,EACpB,MAAMC,EAAaL,EAAY,MAE/BC,EAAO,MAAM,QAAU,QACvBC,EAAgB,UAAY,GAE5BtB,EAAayB,CAAU,EACpB,KAAKC,GAAU,CACVA,EAAO,OAAS,GAClBA,EAAO,QAAQnB,GAASD,EAAgBC,CAAK,CAAC,EAC9CW,EAAS,QAAO,GAEhBF,GAER,CAAK,EACA,MAAMX,GAAS,CACd,QAAQ,MAAM,2BAA4BA,CAAK,CACrD,CAAK,EAEA,QAAQ,IAAM,CACbe,EAAY,MAAQ,GACpBC,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,CAEA,SACG,cAAc,cAAc,EAC5B,iBAAiB,SAAUE,CAAkB"}